# IoT Platform 交互式终端使用指南

## 🚀 简介

IoT Platform 交互式终端是一个色彩丰富、用户友好的命令行管理工具，让您可以轻松管理整个 IoT 平台。

## 🎨 特色功能

### 🌈 色彩丰富
- **亮色主题**: 使用多种亮色和表情符号
- **状态指示器**: ✅ ❌ ⚠️ ℹ️ 🔄 ⏹️
- **分类颜色**: 不同功能使用不同颜色区分
- **实时反馈**: 每个操作都有彩色反馈

### 🎯 交互友好
- **智能提示**: 未知命令时提供建议
- **执行反馈**: 显示命令执行状态
- **分隔线**: 清晰区分不同命令的输出
- **时间戳**: 命令提示符显示当前时间

## 🚀 快速开始

### 启动交互式终端
```bash
./scripts/iot-interactive.sh
```

### 基本使用
1. **查看帮助**: `help`
2. **快速状态**: `quick`
3. **详细状态**: `status`
4. **实时仪表板**: `dashboard`
5. **退出终端**: `exit` 或 `quit`

## 📋 可用命令

### 🔧 系统管理
| 命令 | 功能 | 表情符号 |
|------|------|----------|
| `status` | 查看系统状态 | 📊 |
| `dashboard` | 实时仪表板 | 📈 |
| `health` | 健康检查 | 🏥 |
| `resources` | 系统资源 | 💻 |
| `ps` | 服务状态 | 📋 |
| `watch` | 实时监控 | 👀 |
| `quick` | 快速状态检查 | ⚡ |

### 📋 日志管理
| 命令 | 功能 | 表情符号 |
|------|------|----------|
| `logs [服务]` | 查看日志 | 📄 |
| `logs tail [服务]` | 实时日志 | 📺 |
| `logs search <关键词>` | 搜索日志 | 🔍 |

### 🔧 服务管理
| 命令 | 功能 | 表情符号 |
|------|------|----------|
| `start [服务]` | 启动服务 | ▶️ |
| `stop [服务]` | 停止服务 | ⏹️ |
| `restart [服务]` | 重启服务 | 🔄 |
| `up` | 启动所有服务 | 🚀 |
| `down` | 停止所有服务 | 🛑 |
| `redeploy` | 重新部署 | 🔄 |

### 📱 设备管理
| 命令 | 功能 | 表情符号 |
|------|------|----------|
| `devices` | 查看设备列表 | 📱 |
| `mqtt-clients` | MQTT客户端连接 | 📡 |

### 🗄️ 数据库管理
| 命令 | 功能 | 表情符号 |
|------|------|----------|
| `db` | 连接数据库 | 🗄️ |
| `db-backup` | 备份数据库 | 💾 |
| `db-query <SQL>` | 执行SQL查询 | 🔍 |
| `db-reset` | 重置数据库 | ⚠️ |

### 🌐 API测试
| 命令 | 功能 | 表情符号 |
|------|------|----------|
| `test-health` | 测试健康检查API | 🏥 |
| `test-login` | 测试登录API | 🔐 |

### 🔍 系统工具
| 命令 | 功能 | 表情符号 |
|------|------|----------|
| `clean` | 清理Docker缓存 | 🧹 |
| `ports` | 查看端口占用 | 🔌 |
| `network` | 网络状态 | 🌐 |
| `info` | 系统信息 | ℹ️ |

### 💡 特殊命令
| 命令 | 功能 | 表情符号 |
|------|------|----------|
| `clear` | 清屏 | 🧽 |
| `help` | 显示帮助 | ❓ |
| `exit/quit` | 退出终端 | 👋 |

## 🎨 界面特色

### 欢迎界面
```
╔══════════════════════════════════════════════════════════════╗
║                    🚀 IoT Platform 交互式终端 🚀                    ║
║                        版本: 1.0.0                          ║
╚══════════════════════════════════════════════════════════════╝

🎉 欢迎使用 IoT Platform 交互式管理终端！
💡 输入 'help' 查看可用命令，输入 'exit' 退出
🌟 享受色彩丰富的管理体验！
```

### 命令提示符
```
🚀 iot-platform@hostname:iot-platform [15:30:45]$ 
```

### 执行反馈
```
🚀 [EXECUTING] 执行: status
────────────────────────────────────────────────────────
[命令输出]
────────────────────────────────────────────────────────
✅ [SUCCESS] 命令执行完成
```

## 💡 使用技巧

### 1. 快速状态检查
```bash
quick
```
- 一键查看所有服务状态
- 快速判断系统健康状况

### 2. 实时监控
```bash
dashboard
```
- 实时刷新系统状态
- 按 'q' 退出监控

### 3. 服务管理
```bash
restart backend    # 重启后端服务
up                 # 启动所有服务
down               # 停止所有服务
```

### 4. 日志查看
```bash
logs tail backend  # 实时查看后端日志
logs search error  # 搜索错误日志
```

### 5. 数据库操作
```bash
db-backup          # 备份数据库
db-query "SELECT * FROM users"  # 执行SQL查询
```

## 🔧 高级功能

### 错误处理
- 未知命令时提供建议
- 危险操作需要确认
- 友好的错误提示

### 智能提示
- 输入错误命令时显示常用命令
- 提供操作建议
- 上下文相关的帮助信息

### 安全特性
- 数据库重置需要确认
- 危险操作有警告提示
- 操作日志记录

## 🎯 最佳实践

### 日常使用流程
1. 启动终端: `./scripts/iot-interactive.sh`
2. 快速检查: `quick`
3. 查看详细状态: `status`
4. 进行管理操作
5. 退出终端: `exit`

### 故障排查流程
1. 快速状态检查: `quick`
2. 详细状态分析: `status`
3. 实时监控: `watch`
4. 日志分析: `logs search error`
5. 服务重启: `restart [服务]`

### 维护操作流程
1. 备份数据库: `db-backup`
2. 清理系统: `clean`
3. 检查资源: `resources`
4. 重新部署: `redeploy`

## 🌟 总结

IoT Platform 交互式终端提供了：
- **丰富的色彩和表情符号**
- **友好的用户交互**
- **完整的平台管理功能**
- **智能的错误处理**
- **安全的操作确认**

让 IoT 平台管理变得更加轻松和愉快！🎉
